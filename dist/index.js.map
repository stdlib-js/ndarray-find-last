{
  "version": 3,
  "sources": ["../lib/callback_wrapper.js", "../lib/main.js", "../lib/assign.js", "../lib/index.js"],
  "sourcesContent": ["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2026 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar getShape = require( '@stdlib/ndarray-shape' );\n\n\n// FUNCTIONS //\n\n/**\n* Returns complement indices.\n*\n* ## Notes\n*\n* -   The function mutates the input array.\n*\n* @private\n* @param {NonNegativeIntegerArray} idx - input array containing input indices\n* @param {NonNegativeIntegerArray} shape - array shape\n* @returns {NonNegativeIntegerArray} input array\n*\n* @example\n* var shape = [ 4, 4, 4 ];\n*\n* var idx = [ 0, 0, 0 ];\n* var out = complementIndices( idx, shape );\n* // returns [ 3, 3, 3 ]\n*\n* idx = [ 3, 3, 3 ];\n* var out = complementIndices( idx, shape );\n* // returns [ 0, 0, 0 ]\n*\n* idx = [ 0, 1, 2 ];\n* var out = complementIndices( idx, shape );\n* // returns [ 3, 2, 1 ]\n*/\nfunction complementIndices( idx, shape ) {\n\tvar i;\n\tfor ( i = 0; i < shape.length; i++ ) {\n\t\tidx[ i ] = shape[ i ] - idx[ i ] - 1;\n\t}\n\treturn idx;\n}\n\n\n// MAIN //\n\n/**\n* Wraps a provided callback function.\n*\n* @private\n* @param {ndarrayLike} arr - input ndarray\n* @param {Function} clbk - callback function\n* @param {thisArg} thisArg - callback execution context\n* @returns {Function} callback wrapper\n*/\nfunction wrap( arr, clbk, thisArg ) {\n\tvar sh = getShape( arr );\n\treturn wrapper;\n\n\t/**\n\t* Invokes a callback function.\n\t*\n\t* @private\n\t* @param {*} v - value\n\t* @param {NonNegativeIntegerArray} idx - current array element indices\n\t* @returns {*} result\n\t*/\n\tfunction wrapper( v, idx ) {\n\t\treturn clbk.call( thisArg, v, complementIndices( idx, sh ), arr );\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = wrap;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2026 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar isndarrayLike = require( '@stdlib/assert-is-ndarray-like' );\nvar reverse = require( '@stdlib/ndarray-base-reverse' );\nvar find = require( '@stdlib/ndarray-find' ); // eslint-disable-line stdlib/no-redeclare\nvar format = require( '@stdlib/string-format' );\nvar wrap = require( './callback_wrapper.js' );\n\n\n// MAIN //\n\n/**\n* Returns a new ndarray containing the last elements which pass a test implemented by a predicate function along one or more ndarray dimensions.\n*\n* @param {ndarray} x - input ndarray\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform a reduction\n* @param {boolean} [options.keepdims=false] - boolean indicating whether the reduced dimensions should be included in the returned ndarray as singleton dimensions\n* @param {(*|ndarray)} [options.sentinel] - sentinel value\n* @param {Function} predicate - predicate function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} predicate argument must be a function\n* @throws {RangeError} dimension indices must not exceed input ndarray bounds\n* @throws {RangeError} number of dimension indices must not exceed the number of input ndarray dimensions\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* var isEven = require( '@stdlib/assert-is-even' ).isPrimitive;\n* var array = require( '@stdlib/ndarray-array' );\n*\n* // Create an input ndarray:\n* var x = array( [ [ [ 1.0, 2.0 ], [ 3.0, 4.0 ] ], [ [ 5.0, 6.0 ], [ 7.0, 8.0 ] ] ] );\n* // returns <ndarray>\n*\n* // Perform reduction:\n* var out = findLast( x, isEven );\n* // returns <ndarray>[ 8.0 ]\n*/\nfunction findLast( x, options, predicate, thisArg ) {\n\tvar viewX;\n\tvar nargs;\n\tvar flg;\n\tvar ctx;\n\tvar out;\n\tvar cb;\n\tvar o;\n\tvar f;\n\n\tnargs = arguments.length;\n\tif ( !isndarrayLike( x ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an ndarray-like object. Value: `%s`.', x ) );\n\t}\n\t// Case: findLast( x, predicate )\n\tif ( nargs < 3 ) {\n\t\tcb = options;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Callback argument must be a function. Value: `%s`.', cb ) );\n\t\t}\n\t}\n\t// Case: findLast( x, options, predicate, thisArg )\n\telse if ( nargs > 3 ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Callback argument must be a function. Value: `%s`.', cb ) );\n\t\t}\n\t\tctx = thisArg;\n\t}\n\t// Case: findLast( x, predicate, thisArg )\n\telse if ( isFunction( options ) ) {\n\t\tcb = options;\n\t\tctx = predicate;\n\t}\n\t// Case: findLast( x, options, predicate )\n\telse if ( isFunction( predicate ) ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t}\n\t// Case: find( x, ???, ??? )\n\telse {\n\t\tthrow new TypeError( format( 'invalid argument. Callback argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\t// Create a reversed view of the input ndarray so that we iterate from last-to-first, rather than first-to-last:\n\tviewX = reverse( x, false );\n\n\t// Wrap the callback function to ensure that the input ndarray is passed as an argument to a provided callback and not the view:\n\tf = wrap( x, cb, ctx );\n\n\t// Delegate to `find` to perform actual search...\n\tif ( flg ) {\n\t\tout = find( viewX, o, f );\n\t} else {\n\t\tout = find( viewX, f );\n\t}\n\t// Because `find` iterates from first-to-last, we need to return a \"flipped\"/transposed view back to the user:\n\treturn reverse( out, true );\n}\n\n\n// EXPORTS //\n\nmodule.exports = findLast;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2026 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar isndarrayLike = require( '@stdlib/assert-is-ndarray-like' );\nvar reverse = require( '@stdlib/ndarray-base-reverse' );\nvar find = require( '@stdlib/ndarray-find' ).assign; // eslint-disable-line stdlib/no-redeclare\nvar format = require( '@stdlib/string-format' );\nvar wrap = require( './callback_wrapper.js' );\n\n\n// MAIN //\n\n/**\n* Finds the last elements which pass a test implemented by a predicate function along one or more ndarray dimensions and assigns results to a provided output ndarray.\n*\n* @param {ndarray} x - input ndarray\n* @param {ndarray} out - output ndarray\n* @param {Options} [options] - function options\n* @param {IntegerArray} [options.dims] - list of dimensions over which to perform a reduction\n* @param {boolean} [options.keepdims=false] - boolean indicating whether the reduced dimensions should be included in the returned ndarray as singleton dimensions\n* @param {(*|ndarray)} [options.sentinel] - sentinel value\n* @param {Function} predicate - predicate function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} first argument must be an ndarray-like object\n* @throws {TypeError} second argument must be an ndarray-like object\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} predicate argument must be a function\n* @throws {RangeError} dimension indices must not exceed input ndarray bounds\n* @throws {RangeError} number of dimension indices must not exceed the number of input ndarray dimensions\n* @throws {Error} must provide valid options\n* @returns {ndarray} output ndarray\n*\n* @example\n* var isEven = require( '@stdlib/assert-is-even' ).isPrimitive;\n* var array = require( '@stdlib/ndarray-array' );\n* var empty = require( '@stdlib/ndarray-empty' );\n* var getDType = require( '@stdlib/ndarray-dtype' );\n*\n* // Create an input ndarray:\n* var x = array( [ [ [ 1.0, 2.0 ], [ 3.0, 4.0 ] ], [ [ 5.0, 6.0 ], [ 7.0, 8.0 ] ] ] );\n* // returns <ndarray>\n*\n* // Create an output ndarray:\n* var y = empty( [], {\n*     'dtype': getDType( x )\n* });\n*\n* // Perform reduction:\n* var out = assign( x, y, isEven );\n* // returns <ndarray>[ 8.0 ]\n*/\nfunction assign( x, out, options, predicate, thisArg ) {\n\tvar viewOut;\n\tvar viewX;\n\tvar nargs;\n\tvar flg;\n\tvar ctx;\n\tvar cb;\n\tvar o;\n\tvar f;\n\n\tnargs = arguments.length;\n\tif ( !isndarrayLike( x ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an ndarray-like object. Value: `%s`.', x ) );\n\t}\n\tif ( !isndarrayLike( out ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an ndarray-like object. Value: `%s`.', x ) );\n\t}\n\t// Case: assign( x, out, predicate )\n\tif ( nargs < 4 ) {\n\t\tcb = options;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Callback argument must be a function. Value: `%s`.', cb ) );\n\t\t}\n\t}\n\t// Case: assign( x, out, options, predicate, thisArg )\n\telse if ( nargs > 4 ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t\tif ( !isFunction( cb ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Callback argument must be a function. Value: `%s`.', cb ) );\n\t\t}\n\t\tctx = thisArg;\n\t}\n\t// Case: assign( x, out, predicate, thisArg )\n\telse if ( isFunction( options ) ) {\n\t\tcb = options;\n\t\tctx = predicate;\n\t}\n\t// Case: assign( x, out, options, predicate )\n\telse if ( isFunction( predicate ) ) {\n\t\tflg = true;\n\t\to = options;\n\t\tcb = predicate;\n\t}\n\t// Case: find( x, out, ???, ??? )\n\telse {\n\t\tthrow new TypeError( format( 'invalid argument. Callback argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\t// Create reversed views of the input and output ndarrays so that we iterate from last-to-first, rather than first-to-last:\n\tviewX = reverse( x, false );\n\tviewOut = reverse( out, true );\n\n\t// Wrap the callback function to ensure that the input ndarray is passed as an argument to a provided callback and not the view:\n\tf = wrap( x, cb, ctx );\n\n\t// Delegate to `find` to perform actual search...\n\tif ( flg ) {\n\t\tfind( viewX, viewOut, o, f );\n\t} else {\n\t\tfind( viewX, viewOut, f );\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = assign;\n", "/**\n* @license Apache-2.0\n*\n* Copyright (c) 2026 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return a new ndarray containing the last elements which pass a test implemented by a predicate function along one or more ndarray dimensions.\n*\n* @module @stdlib/ndarray-find-last\n*\n* @example\n* var isEven = require( '@stdlib/assert-is-even' ).isPrimitive;\n* var array = require( '@stdlib/ndarray-array' );\n* var findLast = require( '@stdlib/ndarray-find-last' );\n*\n* // Create an input ndarray:\n* var x = array( [ [ [ 1.0, 2.0 ], [ 3.0, 4.0 ] ], [ [ 5.0, 6.0 ], [ 7.0, 8.0 ] ] ] );\n* // returns <ndarray>\n*\n* // Perform reduction:\n* var out = findLast( x, isEven );\n* // returns <ndarray>[ 8.0 ]\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar assign = require( './assign.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'assign', assign );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n"],
  "mappings": "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",
  "names": ["require_callback_wrapper", "__commonJSMin", "exports", "module", "getShape", "complementIndices", "idx", "shape", "i", "wrap", "arr", "clbk", "thisArg", "sh", "wrapper", "v", "require_main", "__commonJSMin", "exports", "module", "isFunction", "isndarrayLike", "reverse", "find", "format", "wrap", "findLast", "x", "options", "predicate", "thisArg", "viewX", "nargs", "flg", "ctx", "out", "cb", "o", "f", "require_assign", "__commonJSMin", "exports", "module", "isFunction", "isndarrayLike", "reverse", "find", "format", "wrap", "assign", "x", "out", "options", "predicate", "thisArg", "viewOut", "viewX", "nargs", "flg", "ctx", "cb", "o", "f", "setReadOnly", "main", "assign"]
}
